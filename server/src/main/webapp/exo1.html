<!DOCTYPE html>
<html lang="fr">

<head>
    <title>TP1 - Exercice n°1</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/src-min/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/compile.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="js/ResizeSensor.js"></script>
    <script src="js/ElementQueries.js"></script>
</head>

<body>

    <div class='breadcrumbs'>
        <div class='inner'>
            <ul class='cf'>
                <li><a href="introduction.html"><span>0</span><span>Introduction</span></a></li>
                <li><a class='active'><span>1</span><span>Exercice 1</span></a></li>
                <li><a href="exo2.html" class='passif'><span>2</span><span>Exercice 2</span></a></li>
                <li><a href="exo3.html" class='passif'><span>3</span><span>Exercice 3</span></a></li>
                <li><a href="fin.html" class='passif'><span>4</span><span>Terminé</span></a></li>
            </ul>
        </div>
    </div>

    <div class="page-title">
        <h1> M1102 - TP1</h1>
        <h2>Notion de séquence d'instruction et d'alternative</h2>
    </div>

    <div class="exercice">
        <h1>Exercice 1: suffixe d'un mot</h1>
        <div class="paragraph">
            On souhaite concevoir une fonction qui calcule le suffixe d'un mot donné, c'est-à-dire qui retourne les n dernières lettres de ce mot. Voici la signature de la fonction que vous devez écrire: <code>String suffixe(String mot, int nbLettres)</code>.
        </div>

        <h2>Q1: suffixe v1</h2>

        <div id="wrap-editor" class="wrap-editor">
            <div id="editor" class="editor"> </div>
        </div>
        <script>
            var editor = ace.edit("editor");
            editor.getSession().setMode("ace/mode/java");
            editor.setTheme("ace/theme/xcode");
            $(document).ready(function() {
                new ResizeSensor(jQuery('#wrap-editor'), function() {
                    $("#editor").height($("#wrap-editor").height() - 12);
                    $("#editor").width($("#wrap-editor").width() - 12);
                    editor.resize(true);
                });
            });

        </script>

        <div class="console , neutre">
            <b>Serv :</b> En attente de compilation...
        </div>

        <div class="paragraph">
            Donnez une première version de <code> suffixe</code> en supposant que l'indice donné par l'utilisateur est valide.
        </div>

        <h2>Q2: suffixe v2</h2>

        <div id="wrap-editor" class="wrap-editor">
            <div id="editor2" class="editor"> </div>
        </div>
        <script>
            var editor2 = ace.edit("editor2");
            editor2.getSession().setMode("ace/mode/java");
            editor2.setTheme("ace/theme/xcode");
            $(document).ready(function() {
                new ResizeSensor(jQuery('#wrap-editor'), function() {
                    $("#editor2").height($("#wrap-editor").height() - 12);
                    $("#editor2").width($("#wrap-editor").width() - 12);
                    editor2.resize(true);
                });
            });
            $(".passif").click(function() {
                if ($(".console").hasClass("neutre") || $(".console").hasClass("error")) {
                    return false;
                }
            });

            compile("editor2", "compilationexo1");

        </script>

        <div class="console , neutre">
            <b>Serv :</b> En attente de compilation...
        </div>

        <div class="paragraph">
            Modifiez votre fonction afin qu'elle retourne la chaîne <code>"ERREUR"</code> si l'indice est invalide (négatif ou trop grand par rapport à la longueur du mot).
        </div>
    </div>

    <div class="spacebutton">
        <button onclick="location.href='introduction.html'" type="button" class="button button--sharp-sm button--outline-sharp background--outline">Précédent</button>
        <button type="button" class="button button--sharp-sm button--outline-sharp background--outline" id="next">Suivant</button>
        <button id="compilationexo1" type="button" class="button button--sharp-sm button--outline-sharp background--outline">Compiler</button>
    </div>
    <script>
        $("#next").click(function() {
            if ($(".console").hasClass("neutre") || $(".console").hasClass("error")) {
                return false;
            } else {
                document.location.href = "exo2.html";
            }
        });

    </script>

    <div id="tableau">
        <script>
            var text = [{
                    "firstName": "John",
                    "lastName": "Doe"
                },
                {
                    "firstName": "Anna",
                    "lastName": "Smith"
                }, {
                    "firstName": "Peter",
                    "lastName": "Jones"
                }
            ];
            /*
                        //var tab = jQuery.parseJSON(text);
                        document.write("<table><th>Nom</th><th>Prenom</th><th>Compilation</th><th>Temps d'inactivité</th><th>Tests</th>");
                        var tty = Object.keys(text);
                        console.log(tty);
                        var lg = "";
                        var hey = Object.keys(text.[tty[0]][1]);

                        /*for (ty in text.employees) {
                            hey.push(ty);
                        }
                        console.log(hey);
                        for (var i = 0; i < text.employees.length; i++) {
                            lg += "<tr>";
                            for (var j = 0; j < hey.length; j++) {
                                console.log(text.employees[i][hey[j]]);
                                var t = text.employees[i][hey[j]];
                                var ontest = text.employees[t];
                                lg += "<td>" + t + "</td>";
                            }
                            lg += "</tr>";
                        }
                        lg += "</table>";
                        console.log(lg);
                        $("#tableau").append(lg);
                        // console.log(tab.employees.length);
            */
            function jsontoTable(var text) {
                var col = [];
                for (var i = 0; i < text.length; i++) {
                    for (var key in text[i]) {
                        if (col.indexOf(key) === -1) {
                            col.push(key);
                        }
                    }
                }

                var table = document.createElement("table");


                var tr = table.insertRow(-1); // TABLE ROW.

                for (var i = 0; i < col.length; i++) {
                    var th = document.createElement("th"); // TABLE HEADER.
                    th.innerHTML = col[i];
                    tr.appendChild(th);
                }

                for (var i = 0; i < text.length; i++) {

                    tr = table.insertRow(-1);

                    for (var j = 0; j < col.length; j++) {
                        var tabCell = tr.insertCell(-1);
                        tabCell.innerHTML = text[i][col[j]];
                    }
                }

                var divContainer = document.getElementById("tableau");
                divContainer.innerHTML = "";
                divContainer.appendChild(table);
            }

        </script>
    </div>

</body>

</html>
