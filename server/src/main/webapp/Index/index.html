<!DOCTYPE html>
<html lang="fr">

<head>
    <title>iLearn - Accueil</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style2.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>

</head>

<body class="Main">

    <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">
                <span class="logo"><img src="../img/logo.svg" width="90%"></span>
            </a>
        </div>

        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li class="navlink, active"><a href="index.html">Accueil</a></li>
                <li class="navlink"><a href="tp.html">Mes TP</a></li>
                <li class="linkout"><a href="connexion.html">Se déconnecter</a></li>
            </ul>
        </div>
    </nav>

    <div class="contain">
        <div>
            <h1> Bienvenue !</h1>
            <h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</h2>
        </div>
        <div class="col-md-6">
            <h3> Mes TP</h3>
            <h5><a href="tp.html">(voir tous mes TP)</a></h5>
            <table class="table">
                <thead>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>M1102-1103</td>
                        <td>TP1</td>
                        <td> <a href="../M1102-1103/introduction.html"> accéder </a> </td>
                    </tr>
                    <tr>
                        <td>M1102-1103</td>
                        <td>TP2</td>
                        <td> <a href="../M1102-1103/introduction.html"> accéder  </a> </td>
                    </tr>
                    <tr>
                        <td>M1104</td>
                        <td>TP1</td>
                        <td> <a href="../M1102-1103/introduction.html"> accéder </a> </td>
                    </tr>
                    <tr>
                        <td>M1102-1103</td>
                        <td>TP1</td>
                        <td> <a href="../M1102-1103/introduction.html"> accéder </a> </td>
                    </tr>
                    <tr>
                        <td>M1102-1103</td>
                        <td>TP2</td>
                        <td> <a href="../M1102-1103/introduction.html"> accéder  </a> </td>
                    </tr>
                </tbody>
            </table>

        </div>

        <div class="col-md-6" height="auto">
            <h3> Mon taux de completion</h3>
            <h5><a href="tp.html">(voir tous mes statistiques personnelles)</a></h5>

            <div id="tauxcompletion" style="display:inline-block; width: 80%; height=auto">
                <canvas id="myChart"></canvas>

                <script>
                    var jsontest = {
                        "1": "2",
                        "2": "1",
                        "3": "3",
                        "4": "3",
                        "5": "1",
                        "6": "3",
                        "7": "1",
                        "8": "4",
                        "9": "2",
                        "10": "3"

                    };
                    OnestudentOneTP(jsontest);

                    function OnestudentOneTP(jsontest) {
                        var hey = Object.keys(jsontest);
                        var ho = [];
                        for (var i = 0; i < hey.length; i++) {
                            ho.push((jsontest[hey[i]] * 25));
                        }
                        var data = {
                            labels: hey,
                            datasets: [{
                                responsive: true,
                                label: "Evolution du taux de completion sur l'ensemble des TP",
                                fill: false,
                                lineTension: 0.1,
                                backgroundColor: "rgba(224, 6, 82, 0.56)",
                                borderColor: "rgba(224, 6, 82, 0.56)",
                                borderCapStyle: 'butt',
                                borderDash: [],
                                borderDashOffset: 0.0,
                                borderJoinStyle: 'round',
                                pointBorderColor: "rgb(224, 6, 82)",
                                pointBackgroundColor: "#fff",
                                pointBorderWidth: 1,
                                pointHoverRadius: 5,
                                pointHoverBackgroundColor: "rgb(224, 6, 82)",
                                pointHoverBorderColor: "rgba(220,220,220,1)",
                                pointHoverBorderWidth: 2,
                                pointRadius: 3,
                                pointHitRadius: 10,
                                data: ho,
                                spanGaps: true,
                            }]
                        };
                        var ctx = document.getElementById("myChart").getContext("2d");
                        ctx.canvas.width = $("#tauxcompletion").width();
                        ctx.canvas.height = $("#tauxcompletion").width();
                        var myLineChart = new Chart(ctx, {
                            type: 'line',
                            data: data,
                            options: {
                                scales: {
                                    yAxes: [{
                                        ticks: {
                                            min: 0,
                                            max: 100,
                                            beginAtZero: true,
                                        }
                                    }]
                                },
                            }
                        });
                    }

                </script>
            </div>
        </div>
    </div>
</body>

</html>
